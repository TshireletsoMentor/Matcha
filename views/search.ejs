<%- include ('./include/nav') %>

<% if (session.extProfComp != 1) { %>
    <br><br><p>Please complete your extended profile to enjoy the site's full features</p>
    <a href="/updateProfile">Update Profile</a>
    <br><br>
<% } %>

<% if (session.extProfComp == 1) { %>
    <style>
        .custom-range {
            width: 50%;
        }
    </style>
    <div class="container">
            <div class="card card-body mt-4">
                <h3><i class="fas fa-search"></i> Search</h3>
                <hr>
                <form name="search" action="/search" method="post" >
                    <h5>Age</h5>
                    <div class="form-control-inline">
                        <div class="row mt-2">
                            <div class="col-sm-10">
                                <div class="checkbox">
                                    <label><input name="age" type="checkbox" value="25">[18-25]</label>&nbsp;
                                    <label><input name="age" type="checkbox" value="35">[26-35]</label>&nbsp;
                                    <label><input name="age" type="checkbox" value="45">[36-45]</label>&nbsp;
                                    <label><input name="age" type="checkbox" value="55">[46-55]</label>&nbsp;
                                    <label><input name="age" type="checkbox" value="56">[56+]</label>&nbsp;
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <h5>Tags</h5>
                    <div class="form-control-inline">
                        <div class="row mt-2">
                            <div class="col-sm-3">
                                <select name="interest1">
                                        <option value="Unchanged">Unchanged</option>
                                        <option value="#Traveling">#Traveling</option>
                                        <option value="#Dancing">#Dancing</option>
                                        <option value="#Exercise">#Exercise</option>
                                </select>
                            </div>
                            <div class="col-sm-3">
                                <select name="interest2">
                                        <option value="Unchanged">Unchanged</option>
                                        <option value="#Outdoors">#Outdoors</option>
                                        <option value="#Politics">#Politics</option>
                                        <option value="#Cooking">#Cooking</option>
                                </select>
                            </div>
                            <div class="col-sm-3">
                                <select name="interest3">
                                        <option value="Unchanged">Unchanged</option>
                                        <option value="#Photography">#Photography</option>
                                        <option value="#Sports">#Sports</option>
                                        <option value="#Pets">#Pets</option>
                                </select>
                        </div>
                            <div class="col-sm-3">
                                <select name="interest4">
                                        <option value="Unchanged">Unchanged</option>
                                        <option value="#Art">#Art</option>
                                        <option value="#Learning">#Learning</option>
                                        <option value="#Music">#Music</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <h5>Location</h5>
                        <div class="slidecontainer">
                            <label for="customRange">Distance from me</label><br>
                        <input name="location" type="range" class="custom-range" min="1" max="100" id="customRange1" value="1">
                            <p>Within: <span id="distance"></span> kilometers</p>
                        </div>
                    <hr>
                    <h5>Popularity</h5>
                    <div class="slidecontainer">
                        <input name="popularity" type="range" class="custom-range" min="0" max="10" id="customRange2" value="0">
                            <p>Rating <span id="popularity"></span> <i class="fa fa-star"></i></p>
                        </div>
                    <hr>
                    <h5>Filter by: </h5>
                    <div class="forom-control-inline ml-4">
                        <div class="row mt-2">
                            <div class="col-sm-2">
                                <label class="form-check-label">
                                    <input type="radio" name="filter" value="age" class="form-check-input">Age
                                </label>
                            </div>
                            <div class="col-sm-2">
                                <label class="form-check-label">
                                    <input type="radio" name="filter" value="tags" class="form-check-input">Tags
                                </label>
                            </div>
                            <div class="col-sm-2">
                                <label class="form-check-label">
                                    <input type="radio" name="filter" value="location" class="form-check-input">Location
                                </label>
                            </div>
                            <div class="col-sm-2">
                                <label class="form-check-label">
                                    <input type="radio" name="filter" value="popularity" class="form-check-input">Popularity
                                </label>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary btn-block">Submit</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        var slider1 = document.getElementById("customRange1");
        var output1 = document.getElementById("distance");
        output1.innerHTML = slider1.value;
        slider1.oninput = function() {
            output1.innerHTML = this.value;
            document.forms['search']['location'].value = this.value;
        }
        var slider2 = document.getElementById("customRange2");
        var output2 = document.getElementById("popularity");
        output2.innerHTML = slider2.value;
        slider2.oninput = function() {
            if (this.value != "0") {
            output2.innerHTML = this.value;
            document.forms['search']['popularity'].value = this.value;
            }
        }
    </script>
<% } %>
<%- include ('./include/footer')%>